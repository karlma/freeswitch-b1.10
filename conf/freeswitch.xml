<?xml version="1.0"?>
<document type="freeswitch/xml">
  <!--#comment 
      All comments starting with #command will be preprocessed and never sent to the xml parser
      Valid instructions:
      #include ==> Include another file to this exact point
                   (partial xml should be encased in <include></include> tags)
      #set     ==> Set a global variable (can be expanded during preprocessing with $$ variables)
                   (note the double $$ which denotes preprocessor variables)
      #comment ==> A general comment such as this
      
      The preprocessor will compile the full xml document to ${prefix}/log/freeswitch.xml.fsxml
      Don't modify it while freeswitch is running cos it is mem mapped in most cases =D
      
      The same can be achieved with the <X-PRE-PROCESS> tag where the attrs 'cmd' and 'data' are
      parsed in the same way.
  -->
  <!--#comment
      vars.xml contains all the #set directives for the preprocessor.
  -->
  <X-PRE-PROCESS cmd="include" data="vars.xml"/>

  <section name="configuration" description="Various Configuration">
    <X-PRE-PROCESS cmd="include" data="switch.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="modules.conf.xml"/>

    <!-- Order doesn't matter, but for clarity these are in same order as modules.conf.xml. 
         If they aren't loaded by modules.conf.xml, then they are ignored.
    --> 
    <!-- Loggers -->
    <X-PRE-PROCESS cmd="include" data="console.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="syslog.conf.xml"/>

    <!-- Multi-Faceted -->
    <X-PRE-PROCESS cmd="include" data="enum.conf.xml"/>

    <!-- XML Interfaces --> 
    <X-PRE-PROCESS cmd="include" data="xml_rpc.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="xml_cdr.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="xml_curl.conf.xml"/>
    <!-- none for mod_xml_cdr -->

    <!-- Event Handlers -->
    <XX-PRE-PROCESS cmd="include" data="mod_cdr.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="event_multicast.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="event_socket.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="xmpp_event.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="zeroconf.conf.xml"/>

    <!-- Directory Interfaces -->
    <!-- none for mod_ldap; dialplan_directory.conf.xml has ldap connection info -->

    <!-- Endpoints -->
    <X-PRE-PROCESS cmd="include" data="dingaling.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="iax.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="portaudio.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="alsa.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="sofia.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="wanpipe.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="woomera.conf.xml"/>

    <!-- Applications -->
    <!-- none for mod_bridgecall, mod_commands, mod_echo, mod_park, mod_playback --> 
    <X-PRE-PROCESS cmd="include" data="conference.conf.xml"/>
    <!-- ivr.conf is used by mod_dptools -->
    <X-PRE-PROCESS cmd="include" data="ivr.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="voicemail.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="limit.conf.xml"/>

    <!-- Dialplan Interfaces -->
    <X-PRE-PROCESS cmd="include" data="dialplan_directory.conf.xml"/>
    <!-- mod_dialplan_xml is configured in the separate "dialplan" section. -->

    <!-- Codec Interfaces -->
    <!-- no configuration needed -->
    <!-- File Format Interfaces -->
    <!-- no configuration needed -->
    <!-- Timers -->
    <!-- no configuration needed -->

    <!-- Languages -->
    <X-PRE-PROCESS cmd="include" data="spidermonkey.conf.xml"/>
    <!-- none for mod_perl -->
    <X-PRE-PROCESS cmd="include" data="java.conf.xml"/>

    <!-- ASR /TTS -->
    <!-- none for mod_cepstral -->
    <X-PRE-PROCESS cmd="include" data="rss.conf.xml"/>
    <X-PRE-PROCESS cmd="include" data="mod_openmrcp.conf.xml"/>

    <!-- Say -->
    <!-- none for mod_say_en -->
    <X-PRE-PROCESS cmd="include" data="mod_local_stream.conf.xml"/>
  </section>
  
  <section name="dialplan" description="Regex/XML Dialplan">
    <X-PRE-PROCESS cmd="include" data="dialplan/*.xml"/>
  </section>

  <!-- mod_dingaling is reliant on the vcard data in the "directory" section. -->
  <!-- mod_sofia is reliant on the user data for authorization --> 
  <section name="directory" description="User Directory">
    <X-PRE-PROCESS cmd="include" data="directory/*.xml"/>
  </section>

  <!-- phrases section (under development still) -->
  <section name="phrases" description="Speech Phrase Management">
    <macros>
      <X-PRE-PROCESS cmd="include" data="lang/*/*.xml"/>
    </macros>
  </section>

</document>


